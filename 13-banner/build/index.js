!function(e){var t={};function n(l){if(t[l])return t[l].exports;var a=t[l]={i:l,l:!1,exports:{}};return e[l].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,l){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(n.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(l,a,function(t){return e[t]}.bind(null,a));return l},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.regeneratorRuntime}()},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){function n(e,t,n,l,a,r,i){try{var o=e[r](i),s=o.value}catch(e){return void n(e)}o.done?t(s):Promise.resolve(s).then(l,a)}e.exports=function(e){return function(){var t=this,l=arguments;return new Promise((function(a,r){var i=e.apply(t,l);function o(e){n(i,a,r,o,s,"next",e)}function s(e){n(i,a,r,o,s,"throw",e)}o(void 0)}))}}},function(e,t,n){var l=n(6),a=n(7),r=n(8),i=n(10);e.exports=function(e,t){return l(e)||a(e,t)||r(e,t)||i()}},function(e,t,n){"use strict";n.r(t);var l=n(2),a=n.n(l),r=n(1),i=n.n(r),o=n(3),s=n.n(o),c=n(4),b=n.n(c),u=n(0),h=wp.i18n,d=h.__,g=(h.setLocaleData,wp.blocks.registerBlockType),m=wp.blockEditor,p=m.InnerBlocks,f=m.InspectorControls,v=m.InspectorAdvancedControls,x=m.MediaUpload,k=wp.components,w=k.PanelBody,y=(k.TextControl,k.ToggleControl),j=k.SelectControl,O=k.Button,z=(k.SVG,k.Path,k.RadioControl),S=wp.data.withSelect,E=function(e,t,n,l,a,r,i,o,s,c,b){var u=[];return u.push("banner-"+e+"-"+t),n&&u.push("below-navbar-content"),l&&u.push("bg-"+l),a&&u.push("bg-"+a),r&&u.push("bg-"+r),i&&(u.push("d-flex"),u.push("align-items-"+i)),o&&o===s?u.push("my-"+o):(o&&u.push("mt-"+o),s&&u.push("mb-"+s)),c&&c===b?u.push("py-"+c):(c&&u.push("pt-"+c),b&&u.push("pb-"+b)),u.join(" ")},I=function(e){var t=e.split("."),n=t[t.length-1];return t.pop(),{trunc:t.join("."),extension:n}},C=function(e){var t=I(e).trunc;return t.lastIndexOf("-scaled")===t.length-7},B=function(e){var t=I(e);return t.trunc.substring(0,t.trunc.length-7)+"."+t.extension},A=function(e){var t,n,l=e.originalWidth/e.originalHeight,a=I(e.url),r=a.extension,i=a.trunc,o=(t=i.split("-"),n=t[t.length-1].split("x"),t.pop(),{width:n[0],height:n[1],withoutSizesTrunc:t.join("-")}),s=o.width,c=o.withoutSizesTrunc,b=[];return e.scaleList.forEach((function(t,n){var a=Math.round(s*t);if(a<=e.originalWidth){var i=Math.round(a/l),o=c+"-"+a+"x"+i+"."+r;b.push({url:o,width:a,height:i})}})),b},P=function(e){return new Promise((function(t,n){var l=document.createElement("img");l.onload=function(){t({width:l.width,height:l.height}),l.remove},l.onerror=function(t){n('Error on loading image "'+e+'"',t)},l.src=e,document.body.appendChild(l)}))},N=function(e){return new Promise((function(t,n){var l=new XMLHttpRequest;l.open("HEAD",e,!0),l.onreadystatechange=function(){4==l.readyState&&(200==l.status?t(!0):t(!1))},l.send(null)}))},M=[{media:"(max-width: 999.98px)",imgSizeIndexShift:"-3"},{media:"(max-width: 1399.98px)",imgSizeIndexShift:"-2"}];g("bsx-blocks/banner",{title:d("BSX Banner","bsx-blocks"),icon:"category",category:"layout",attributes:{templateName:{type:"string",default:"empty"},belowNavbar:{type:"boolean",default:!1},imgId:{type:"number"},imgSizes:{type:"array",default:[]},imgSizeIndex:{type:"string",default:"6"},url:{type:"string"},bannerType:{type:"string",default:"vh"},bannerSize:{type:"string",default:"2"},bgAttachment:{type:"string",default:"fixed"},bgSize:{type:"string",default:"cover"},bgPosition:{type:"string",default:"c"},alignItems:{type:"string",default:"center"},marginBefore:{type:"string",default:""},marginAfter:{type:"string",default:""},paddingBefore:{type:"string",default:""},paddingAfter:{type:"string",default:""}},edit:S((function(e,t){var n=t.clientId,l=e("core/block-editor"),a=l.getBlocksByClientId;l.getBlockAttributes;return{children:a(n)[0]?a(n)[0].innerBlocks:[]}}))((function(e){e.className;var t=e.attributes,n=t.templateName,l=t.belowNavbar,a=t.imgId,r=t.imgSizes,o=t.imgSizeIndex,c=t.url,b=t.bannerType,h=t.bannerSize,g=t.bgAttachment,m=t.bgSize,k=t.bgPosition,S=t.alignItems,I=t.marginBefore,M=t.marginAfter,T=t.paddingBefore,H=t.paddingAfter,V=e.setAttributes,_=(e.isSelected,e.children,[{name:"empty",title:d("Empty","bsx-blocks"),icon:Object(u.createElement)("svg",{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",focusable:"false"},Object(u.createElement)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M23.58 26.28c0-.600003.1499985-1.099998.45-1.5.3000015-.400002.7433304-.8399976 1.33-1.32.5600028-.4533356.9833319-.8699981 1.27-1.25s.43-.8433306.43-1.39c0-.5466694-.1733316-1.0566643-.52-1.53s-.986662-.71-1.92-.71c-1.1066722 0-1.8533314.2766639-2.24.83-.3866686.5533361-.58 1.1766632-.58 1.87 0 .1466674.0033333.2666662.01.36.0066667.0933338.01.1533332.01.18h-1.78c-.0133334-.0533336-.0266666-.146666-.04-.28-.0133334-.133334-.02-.2733326-.02-.42 0-.7733372.1766649-1.4666636.53-2.08.3533351-.6133364.8899964-1.0999982 1.61-1.46.7200036-.3600018 1.5999948-.54 2.64-.54 1.2133394 0 2.2033295.3233301 2.97.97s1.15 1.5099946 1.15 2.59c0 .7066702-.1033323 1.3033309-.31 1.79-.2066677.4866691-.4533319.8799985-.74 1.18-.2866681.3000015-.6566644.6233316-1.11.97-.4800024.3866686-.8333322.7166653-1.06.99-.2266678.2733347-.34.6233312-.34 1.05v.82h-1.74zm-.14 2.56h2V31h-2zM39 12c1.1046 0 2 .8954 2 2v20c0 1.1046-.8954 2-2 2H9c-1.10457 0-2-.8954-2-2V14c0-1.1046.89543-2 2-2h30zm0 22V14H9v20h30z"})),template:[["core/paragraph",{placeholder:"Change paragraph text or delete..."}]],templateLock:!1},{name:"container-with-heading",title:d("Container with Heading","bsx-blocks"),icon:Object(u.createElement)("svg",{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",focusable:"false"},Object(u.createElement)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M23.58 26.28c0-.600003.1499985-1.099998.45-1.5.3000015-.400002.7433304-.8399976 1.33-1.32.5600028-.4533356.9833319-.8699981 1.27-1.25s.43-.8433306.43-1.39c0-.5466694-.1733316-1.0566643-.52-1.53s-.986662-.71-1.92-.71c-1.1066722 0-1.8533314.2766639-2.24.83-.3866686.5533361-.58 1.1766632-.58 1.87 0 .1466674.0033333.2666662.01.36.0066667.0933338.01.1533332.01.18h-1.78c-.0133334-.0533336-.0266666-.146666-.04-.28-.0133334-.133334-.02-.2733326-.02-.42 0-.7733372.1766649-1.4666636.53-2.08.3533351-.6133364.8899964-1.0999982 1.61-1.46.7200036-.3600018 1.5999948-.54 2.64-.54 1.2133394 0 2.2033295.3233301 2.97.97s1.15 1.5099946 1.15 2.59c0 .7066702-.1033323 1.3033309-.31 1.79-.2066677.4866691-.4533319.8799985-.74 1.18-.2866681.3000015-.6566644.6233316-1.11.97-.4800024.3866686-.8333322.7166653-1.06.99-.2266678.2733347-.34.6233312-.34 1.05v.82h-1.74zm-.14 2.56h2V31h-2zM39 12c1.1046 0 2 .8954 2 2v20c0 1.1046-.8954 2-2 2H9c-1.10457 0-2-.8954-2-2V14c0-1.1046.89543-2 2-2h30zm0 22V14H9v20h30z"})),template:[["bsx-blocks/container",{},[["core/heading",{placeholder:"Add heading, configure heading level...",className:"display-1 text-white text-shadow-darker"}]]]],templateLock:!1}]),L=function(e){var t=_.find((function(t){return t.name===e}));return t?t.template:[]},R=L(n),W=function(e){R=L(e),V({templateName:e}),console.log("changed templateName: "+e),console.log("changed template: "+R)};function X(e){return q.apply(this,arguments)}function q(){return(q=s()(i.a.mark((function e(t){var n,l,a,r,s,c,b,u,h,d,g,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t.url){e.next=40;break}if(n="",l=0,a=0,!C(t.url)){e.next=19;break}return n=B(t.url),e.prev=6,e.next=9,P(n);case 9:r=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),console.error(e.t0);case 15:l=r.width||0,a=r.height||0,e.next=21;break;case 19:l=t.sizes.full.width,a=t.sizes.full.height;case 21:if(null==t.sizes.large){e.next=30;break}return h={url:t.sizes.large.url,scaleList:[.75,1.5,2],originalWidth:l,originalHeight:a},d=A(h),c=d[0]||{},b=d[1]||{},u=d[2]||{},e.next=29,Promise.all([N(c.url),N(b.url),N(u.url)]);case 29:s=e.sent;case 30:g=[],null!=t.sizes.thumbnail&&t.sizes.thumbnail.url&&g.push({url:t.sizes.thumbnail.url,width:t.sizes.thumbnail.width,height:t.sizes.thumbnail.height}),null!=t.sizes.medium&&t.sizes.medium.url&&g.push({url:t.sizes.medium.url,width:t.sizes.medium.width,height:t.sizes.medium.height}),null!=t.sizes.large&&t.sizes.large.url&&(s[0]&&g.push({url:c.url,width:c.width,height:c.height}),g.push({url:t.sizes.large.url,width:t.sizes.large.width,height:t.sizes.large.height}),s[1]&&g.push({url:b.url,width:b.width,height:b.height}),s[1]&&g.push({url:u.url,width:u.width,height:u.height})),g.push({url:t.sizes.full.url,width:t.sizes.full.width,height:t.sizes.full.height}),n&&g.push({url:n,width:l,height:a}),m=parseInt(o),o>=g.length&&(m=g.length-1),V({imgId:t.id,imgSizes:g,imgSizeIndex:m.toString(),url:g[m].url}),console.log("url: "+g[m].url);case 40:case"end":return e.stop()}}),e,null,[[6,12]])})))).apply(this,arguments)}var D=[];r.forEach((function(e,t){D.push({value:t.toString(),label:e.width+"x"+e.height+(e.width===e.height?" "+d("(Square format)","bsx-blocks"):"")})}));var U=E(b,h,l,g,m,k,S,I,M,T,H),G={backgroundImage:"url(".concat(c,")")};return[Object(u.createElement)(f,null,Object(u.createElement)(w,{title:d("Banner Template","bsx-blocks")},Object(u.createElement)("div",{className:"bsxui-icon-text-button-list"},_.map((function(e,t){return Object(u.createElement)(O,{label:e.title,onClick:function(){W(e.name)},className:"bsxui-icon-text-button-list-item "+(n===e.name?"active":"")},Object(u.createElement)("div",{class:"bsxui-icon-text-button-list-item-icon"},e.icon),Object(u.createElement)("div",{class:"bsxui-icon-text-button-list-item-label"},e.title))})))),Object(u.createElement)(w,{title:d("Banner image","bsx-blocks")},a?Object(u.createElement)("div",{class:"bsxui-config-panel-row"},Object(u.createElement)("img",{class:"bsxui-config-panel-img",src:c,alt:"Image preview"})):Object(u.createElement)("div",{class:"bsxui-config-panel-row"},Object(u.createElement)("div",{class:"bsxui-config-panel-text"},d("– No image selected yet –","bsx-blocks"))),Object(u.createElement)("div",{class:"bsxui-config-panel-row"},Object(u.createElement)(x,{onSelect:X,allowedTypes:"image",value:a,render:function(e){var t=e.open;return Object(u.createElement)(O,{onClick:t,isSecondary:!0},d("Change / upload Image","bsx-blocks"))}})),Object(u.createElement)(z,{label:d("Image size and format","bsx-blocks"),selected:o.toString(),options:D,onChange:function(e){V({imgSizeIndex:e.toString(),url:r[e].url})}}),null!=r[o]&&null!=r[o].url&&Object(u.createElement)("div",{class:"components-base-control"},Object(u.createElement)("a",{href:r[o].url,target:"_blank"},d("Preview selected image","bsx-blocks")))),Object(u.createElement)(w,{title:d("Banner dimensions","bsx-blocks")},Object(u.createElement)(j,{label:d("Banner height type","bsx-blocks"),value:b,onChange:function(e){V({bannerType:e})},options:[{value:"vh",label:d("Viewport dependent height","bsx-blocks")},{value:"st",label:d("Static height","bsx-blocks")}],help:d("Viewport dependent height will be e.g. all viewport height or viewport height - X pixels. Static height instead depends only on the banners contents.","bsx-blocks")}),Object(u.createElement)(j,{label:d("Banner height size","bsx-blocks"),value:h,onChange:function(e){V({bannerSize:e})},options:[{value:"1",label:d("1 (biggest)","bsx-blocks")},{value:"2",label:d("2","bsx-blocks")},{value:"3",label:d("3 (smallest)","bsx-blocks")}],help:d("Choose from 1 (maximum) to 3 (minimum)","bsx-blocks")}),Object(u.createElement)(j,{label:d("Background attachement","bsx-blocks"),value:g,onChange:function(e){V({bgAttachment:e})},options:[{value:"static",label:d("static","bsx-blocks")},{value:"fixed",label:d("fixed","bsx-blocks")}]}),Object(u.createElement)(j,{label:d("Align items","bsx-blocks"),value:S,onChange:function(e){V({alignItems:e})},options:[{value:"center",label:d("center","bsx-blocks")},{value:"end",label:d("end","bsx-blocks")}]})),Object(u.createElement)(w,{title:d("Margin","bsx-blocks")},Object(u.createElement)(j,{label:d("Margin before","bsx-blocks"),value:I,onChange:function(e){V({marginBefore:e})},options:[{value:"",label:d("– unset –","bsx-blocks")},{value:"0",label:d("none (0)","bsx-blocks")},{value:"1",label:d("extra small","bsx-blocks")},{value:"2",label:d("small","bsx-blocks")},{value:"3",label:d("medium","bsx-blocks")},{value:"4",label:d("large","bsx-blocks")},{value:"5",label:d("extra large","bsx-blocks")}],help:d("Spacer before Banner","bsx-blocks")}),Object(u.createElement)(j,{label:d("Margin after","bsx-blocks"),value:M,onChange:function(e){V({marginAfter:e})},options:[{value:"",label:d("– unset –","bsx-blocks")},{value:"0",label:d("none (0)","bsx-blocks")},{value:"1",label:d("extra small","bsx-blocks")},{value:"2",label:d("small","bsx-blocks")},{value:"3",label:d("medium","bsx-blocks")},{value:"4",label:d("large","bsx-blocks")},{value:"5",label:d("extra large","bsx-blocks")}],help:d("Spacer after Banner","bsx-blocks")}))),Object(u.createElement)(v,null,Object(u.createElement)(y,{label:d("Below navbar","bsx-blocks"),checked:!!l,onChange:function(e){V({belowNavbar:e})},help:d("Enable if container starts below navbar. If enabled container has spacer top to avoid overlapping its contents by navbar.","bsx-blocks")}),Object(u.createElement)(j,{label:d("Background advanced position","bsx-blocks"),value:k,onChange:function(e){V({bgPosition:e})},options:[{value:"c",label:d("Center center","bsx-blocks")},{value:"c25",label:d("Center 25%","bsx-blocks")},{value:"c66",label:d("Center 66%","bsx-blocks")},{value:"c75",label:d("Center 75%","bsx-blocks")},{value:"ct",label:d("Center top","bsx-blocks")},{value:"rc",label:d("Right center","bsx-blocks")},{value:"33c",label:d("33% center","bsx-blocks")},{value:"80c",label:d("80% center","bsx-blocks")},{value:"66t",label:d("66% top","bsx-blocks")},{value:"66c",label:d("66% center","bsx-blocks")}]}),Object(u.createElement)(j,{label:d("Background advanced size","bsx-blocks"),value:m,onChange:function(e){V({bgSize:e})},options:[{value:"cover",label:d("Cover","bsx-blocks")},{value:"contain",label:d("Contain","bsx-blocks")},{value:"100a",label:d("100% auto","bsx-blocks")}]}),Object(u.createElement)(j,{label:d("Padding before","bsx-blocks"),value:T,onChange:function(e){V({paddingBefore:e})},options:[{value:"",label:d("– none –","bsx-blocks")},{value:"1",label:d("extra small","bsx-blocks")},{value:"2",label:d("small","bsx-blocks")},{value:"3",label:d("medium","bsx-blocks")},{value:"4",label:d("large","bsx-blocks")},{value:"5",label:d("extra large","bsx-blocks")}],help:d("Inner spacer before","bsx-blocks")}),Object(u.createElement)(j,{label:d("Padding after","bsx-blocks"),value:H,onChange:function(e){V({paddingAfter:e})},options:[{value:"",label:d("– none –","bsx-blocks")},{value:"1",label:d("extra small","bsx-blocks")},{value:"2",label:d("small","bsx-blocks")},{value:"3",label:d("medium","bsx-blocks")},{value:"4",label:d("large","bsx-blocks")},{value:"5",label:d("extra large","bsx-blocks")}],help:d("Inner spacer after","bsx-blocks")})),Object(u.createElement)("div",{className:U,style:G},!a&&Object(u.createElement)("div",{className:"bsxui-in-widget-overlay-panel bsxui-top"},Object(u.createElement)(x,{onSelect:X,allowedTypes:"image",value:a,render:function(e){var t=e.open;return Object(u.createElement)(O,{onClick:t,isSecondary:!0},d("Select / upload Image","bsx-blocks"))}})),Object(u.createElement)(p,{template:R,renderAppender:function(e){return e.length>0}?void 0:function(){return Object(u.createElement)(p.ButtonBlockAppender,null)}}))]})),save:function(e){e.className;var t=e.attributes,n=(t.templateName,t.belowNavbar),l=(t.imgId,t.imgSizes),r=t.imgSizeIndex,i=t.url,o=t.bannerType,s=t.bannerSize,c=t.bgAttachment,h=t.bgSize,d=t.bgPosition,g=t.alignItems,m=t.marginBefore,f=t.marginAfter,v=t.paddingBefore,x=t.paddingAfter,k=E(o,s,n,c,h,d,g,m,f,v,x),w=function(e){for(var t={},n=0,l=Object.entries(e);n<l.length;n++){var a=b()(l[n],2),r=a[0],i=a[1];i&&(t[r]=i)}return t}({"data-srcset":function(e,t){var n="[ ";return M.forEach((function(l,a){var r=parseInt(t)+parseInt(l.imgSizeIndexShift);r>0&&(n+="{ media: '"+l.media+"', src: '"+e[r].url+"' }"),n+=", "})),n.lastIndexOf(", ")==n.length-2&&(n=n.substring(0,n.length-2)),n+=" ]"}(l,r)});return Object(u.createElement)("div",a()({className:k,"data-fn":"lazyload","data-src":i},w),Object(u.createElement)("div",{class:"banner-inner"},Object(u.createElement)(p.Content,null)))}})},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],l=!0,a=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(l=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);l=!0);}catch(e){a=!0,r=e}finally{try{l||null==o.return||o.return()}finally{if(a)throw r}}return n}}},function(e,t,n){var l=n(9);e.exports=function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,l=new Array(t);n<t;n++)l[n]=e[n];return l}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}}]);